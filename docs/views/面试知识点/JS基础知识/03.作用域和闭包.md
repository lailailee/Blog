---
title: '作用域和闭包'
date: 2020-03-27
categories: 面试知识点 # 分类只能有1个
tags: # 标签可以有多个
  - 面试知识点
  - 作用域和闭包
  - JS基础知识
---

## 题目

1. this 的不同应用场景，如何取值？
1. 手写 bind 函数
1. 闭包实际开发中的场景
1. 10 个 a 标签

## 知识点

1. 作用域和自由变量
1. 闭包
1. this

### 01.作用域

- 全局作用域
- 函数作用域
- 块级作用域（ES6）{}

### 02.自由变量

查找规则：所有自由变量的查找，是在函数被定义的地方，向上级作用域查找，而不是在执行的地方

### 03.闭包

作用域应用的特殊情况：(两种常见方式）

- 函数作为参数被传递
- 函数作为返回值

### 04.this

- 作为普通函数 （函数执行的时候被确认）
- 使用 call，apply，bind （更改函数中 this 的指向）
- 作为对象方法去调用 （指的是当前对象）
- 在 class 方法中调用 （this 取的是当前实例）
- 箭头函数 （箭头函数中的 this 取的上级作用域的值）

### 05.闭包的应用

隐藏数据，只提供 api：set，get =>做一个简单地 cache 工具

### 06.手写 bind 函数

1. 在函数的构造函数的原型上挂载 bind 方法
1. 将传入的参数转化为数组
1. 取得数组第一个值作为返回函数的第一个参数
1. 当前 this 为调用 bind 的构造函数
1. 返回一个函数，使用 apply 执行
